import {
    browser,
    takeElementSnapshot
} from '@progress/kendo-angular-e2e';

import { tzit } from './tz-helpers';

describe('tz tests', () => {
    const baselineFolder = './artifacts';
    const snapshot = async(imageName: string) =>
        takeElementSnapshot(browser, 'kendo-scheduler', ['div#demoToolbar'], `${baselineFolder}/${imageName}`);

    const setup = async (path: string) => {
        await browser.get(`/examples/e2e/${ path }.html`);

        return  browser.manage().window().setSize(1200, 1500);
    };

    tzit('Kathmandu', 'events in Kathmandu tz', async() => {
        // https://github.com/telerik/kendo-angular/issues/1955
        await setup('tz-kathmandu');

        await snapshot('kathmandu_events_month.png');
    });

    tzit('NewYork', 'events in NewYork tz', async() => {
        // https://github.com/telerik/kendo-angular/issues/1964
        await setup('tz-newyork');

        await snapshot('newyork_events_month.png');
    });

    tzit('Jerusalem', 'events in Jerusalem tz', async() => {
        // https://github.com/telerik/kendo-angular/issues/2293
        await setup('tz-jerusalem');

        await snapshot('jerusalem_events_month.png');
    });

});
