const TZ_NAMES = {
    NewYork: ['Eastern Standard Time', 'EST', 'Eastern Time', 'EDT', 'EDST', 'Eastern Daylight Time', 'Eastern Daylight Savings Time'],
    Jerusalem: ['IST', 'Israel Standard Time', 'IDT', 'Israel Daylight Time'],
    Kathmandu: ['NPT', 'Nepal Standard Time', 'Nepal Time']
};

const matchesTimezone = alias => {
    const names = TZ_NAMES[alias];
    const sample = new Date().toString();
    return names.some(value => sample.includes(value));
};

export const tzit = (alias, name, body) => {
  if (!TZ_NAMES[alias]) {
      throw new Error(`Unknown timezone alias: ${ alias }\n` +
                      `Valid values are: ${ Object.keys(TZ_NAMES).join(', ') }`);
  } else if (matchesTimezone(alias)) {
    it(name, body);
  } else {
    xit(name, body);
  }
};